# Cross-Platform Console File Manager

Двухпанельный консольный файловый менеджер с поддержкой мыши, горячих клавиш, массовых операций и мультиязычности (английский/русский).

## Запуск

```bash
pip install -r requirements.txt
python main.py
```

## Основные возможности
- Две панели с навигацией, выделением активной панели и вертикальным разделителем
- Массовое копирование, перемещение, удаление файлов и папок (выделение мышью или клавиатурой)
- Поддержка мыши: выделение, множественный выбор (Ctrl/Shift/ПКМ), протяжка, двойной клик для открытия/входа
- Управление с клавиатуры: Tab, стрелки, Enter, Y/N/C, пробел, F5/F6/F7/F8
- Поддержка скрытых файлов (показ/скрытие по хоткею)
- Мультиязычность (en/ru), все тексты вынесены в отдельные файлы
- Тёмная тема (Monokai)
- Сохранение состояния (открытые папки, язык, настройки) между сессиями

## Горячие клавиши
- **Tab** — Переключить активную панель
- **F5** — Copy (массовое копирование)
- **F6** — Move (массовое перемещение)
- **F7** — Create Folder
- **F8** — Delete (массовое удаление)
- **Стрелки** — навигация по списку
- **Enter/→** — открыть файл (во внешней программе) или войти в папку
- **←/Backspace** — выйти на уровень выше
- **Cmd+Shift+.** (Mac) / **Win+Shift+.** (Win/Linux) — показать/скрыть скрытые файлы
- **Y/N/C** — подтверждение в диалогах (Yes/No/Cancel)
- **ПКМ** — добавить/убрать файл из выделения, протяжка — диапазон
- **Двойной клик** — открыть файл/войти в папку

## Управление мышью
- **ЛКМ** — выделить файл/папку
- **Ctrl+ЛКМ** — добавить/убрать из выделения
- **Shift+ЛКМ** — выделить диапазон
- **ПКМ** — добавить/убрать из выделения, протяжка — диапазон
- **Двойной ЛКМ** — открыть файл/войти в папку

## Сохранение состояния
- Открытые директории панелей, язык и настройки сохраняются в `config.json` (игнорируется git)
- При запуске менеджер восстанавливает состояние из файла

## Особенности
- Две панели с равным делением пространства
- Поддержка мыши и клавиатуры
- Массовые операции с файлами и папками
- Мультиязычность (en/ru), легко добавить новые языки
- Тёмная тема (Monokai)
- Сохранение состояния между сессиями

## Сборка односоставного исполняемого файла (PyInstaller)

### 1. Установка PyInstaller

```bash
pip install pyinstaller
```

### 2. Сборка для вашей ОС

#### Windows
```bash
pyinstaller --onefile --add-data "lang;lang" --add-data "theme.css;." --name=cfm main.py
```

#### Linux/Mac
```bash
pyinstaller --onefile --add-data "lang:lang" --add-data "theme.css:." --name=cfm main.py
```

- Готовый файл будет в папке `dist/` (например, `dist/cfm.exe` или `dist/cfm`).
- Для каждой ОС сборку делайте на соответствующей системе.

### 3. Включение ресурсов (языки, темы)

PyInstaller должен включить папку `lang` и файл `theme.css`:
- `--add-data "lang:lang"` — папка с языками
- `--add-data "theme.css:."` — файл темы

### 4. Пример .spec-файла (альтернатива команде)

Создайте файл `cfm.spec`:
```python
# -*- mode: python ; coding: utf-8 -*-
block_cipher = None

a = Analysis(
    ['main.py'],
    pathex=[],
    binaries=[],
    datas=[
        ('lang', 'lang'),
        ('theme.css', '.'),
    ],
    hiddenimports=[],
    hookspath=[],
    runtime_hooks=[],
    excludes=[],
    win_no_prefer_redirects=False,
    win_private_assemblies=False,
    cipher=block_cipher,
)
pyz = PYZ(a.pure, a.zipped_data, cipher=block_cipher)
exe = EXE(
    pyz,
    a.scripts,
    [],
    exclude_binaries=True,
    name='cfm',
    debug=False,
    bootloader_ignore_signals=False,
    strip=False,
    upx=True,
    console=True,
)
coll = COLLECT(
    exe,
    a.binaries,
    a.zipfiles,
    a.datas,
    strip=False,
    upx=True,
    upx_exclude=[],
    name='cfm'
)
```

Сборка по .spec-файлу:
```bash
pyinstaller cfm.spec
```

### 5. Советы
- Добавьте `build/`, `dist/`, `*.spec` в `.gitignore`.
- Если не работает запуск — проверьте, что ресурсы (lang, theme.css) попали в папку рядом с бинарником.
- Для Mac: если нужен .app, используйте флаг `--windowed` и настройте Info.plist.

---

**Вопросы по сборке или ошибкам — пишите!** 